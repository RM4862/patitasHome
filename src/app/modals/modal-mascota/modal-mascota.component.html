<div class="modal-backdrop" (click)="onBackdropClick($event)">
  <div class="modal-contenido" *ngIf="mascota">
    <div class="modal-cabecera">
      <h2>{{ nombreMascota }}</h2>
      <div class="modal-estado" [ngClass]="estado">
        {{ estado | titlecase }}
      </div>
      <button class="boton-cerrar" (click)="cerrarModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="modal-cuerpo">
      <div class="imagen-mascota-detalle">
        <img [src]="imagenUrl" [alt]="nombreMascota">
      </div>

      <div class="detalles-mascota">
        <div class="detalle-item">
          <span class="etiqueta">Nombre:</span>
          <span class="valor">{{ nombreMascota }}</span>
        </div>

        <div class="detalle-item">
          <span class="etiqueta">Estado:</span>
          <span class="valor estado-valor" [ngClass]="estado">
            {{ estado | titlecase }}
          </span>
        </div>

        <div class="detalle-item">
          <span class="etiqueta">Descripción:</span>
          <span class="valor">{{ descripcion }}</span>
        </div>

        <!-- Detalles específicos de la mascota -->
        <div class="detalle-item" *ngFor="let detalle of objectKeys(detalles)">
          <span class="etiqueta">{{ detalle | titlecase }}:</span>
          <span class="valor">{{ detalles[detalle] }}</span>
        </div>
      </div>
    </div>

    <!-- Información de contacto si está disponible -->
    <div class="seccion-contacto" *ngIf="mascota.usuario">
      <h3>Información de contacto</h3>
      <div class="detalle-contacto">
        <span class="etiqueta">Publicado por:</span>
        <span class="valor">{{ mascota.usuario?.nombre || 'Usuario anónimo' }}</span>
      </div>
      <div class="detalle-contacto" *ngIf="mascota.usuario?.telefono">
        <span class="etiqueta">Teléfono:</span>
        <span class="valor">{{ mascota.usuario?.telefono }}</span>
      </div>
      <div class="detalle-contacto" *ngIf="mascota.usuario?.email">
        <span class="etiqueta">Email:</span>
        <span class="valor">{{ mascota.usuario?.email }}</span>
      </div>
    </div>

    <div class="modal-pie">
      <button class="boton-contactar">
        <i class="fas fa-envelope"></i> Contactar
      </button>
      <button class="boton-compartir">
        <i class="fas fa-share-alt"></i> Compartir
      </button>
      <button class="boton-cerrar-pie" (click)="cerrarModal()">Cerrar</button>
    </div>
  </div>
</div>
